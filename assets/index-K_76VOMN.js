(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const a of o.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function n(l){if(l.ep)return;l.ep=!0;const o=r(l);fetch(l.href,o)}})();const Sr={context:void 0,registry:void 0},Ar=(e,t)=>e===t,Z=Symbol("solid-proxy"),Ze=Symbol("solid-track"),Ie={equals:Ar};let Ct=Tt;const le=1,Ne=2,St={owned:null,cleanups:null,context:null,owner:null},We={};var E=null;let He=null,_r=null,B=null,J=null,re=null,Ge=0;function Ce(e,t){const r=B,n=E,l=e.length===0,o=t===void 0?n:t,a=l?St:{owned:null,cleanups:null,context:o?o.context:null,owner:o},i=l?e:()=>e(()=>j(()=>Qe(a)));E=a,B=null;try{return ne(i,!0)}finally{B=r,E=n}}function G(e,t){t=t?Object.assign({},Ie,t):Ie;const r={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},n=l=>(typeof l=="function"&&(l=l(r.value)),_t(r,l));return[At.bind(r),n]}function ht(e,t,r){const n=Ve(e,t,!0,le);ve(n)}function k(e,t,r){const n=Ve(e,t,!1,le);ve(n)}function z(e,t,r){Ct=Br;const n=Ve(e,t,!1,le);(!r||!r.render)&&(n.user=!0),re?re.push(n):ve(n)}function X(e,t,r){r=r?Object.assign({},Ie,r):Ie;const n=Ve(e,t,!0,0);return n.observers=null,n.observerSlots=null,n.comparator=r.equals||void 0,ve(n),At.bind(n)}function Tr(e){return e&&typeof e=="object"&&"then"in e}function Pr(e,t,r){let n,l,o;arguments.length===2&&typeof t=="object"||arguments.length===1?(n=!0,l=e,o={}):(n=e,l=t,o={});let a=null,i=We,s=!1,d="initialValue"in o,u=typeof n=="function"&&X(n);const f=new Set,[g,b]=(o.storage||G)(o.initialValue),[A,v]=G(void 0),[p,w]=G(void 0,{equals:!1}),[O,h]=G(d?"ready":"unresolved");function m(I,N,q,F){return a===I&&(a=null,F!==void 0&&(d=!0),(I===i||N===i)&&o.onHydrated&&queueMicrotask(()=>o.onHydrated(F,{value:N})),i=We,D(N,q)),N}function D(I,N){ne(()=>{N===void 0&&b(()=>I),h(N!==void 0?"errored":d?"ready":"unresolved"),v(N);for(const q of f.keys())q.decrement();f.clear()},!1)}function R(){const I=Nr,N=g(),q=A();if(q!==void 0&&!a)throw q;return B&&!B.user&&I&&ht(()=>{p(),a&&(I.resolved||f.has(I)||(I.increment(),f.add(I)))}),N}function H(I=!0){if(I!==!1&&s)return;s=!1;const N=u?u():n;if(N==null||N===!1){m(a,j(g));return}const q=i!==We?i:j(()=>l(N,{value:g(),refetching:I}));return Tr(q)?(a=q,"value"in q?(q.status==="success"?m(a,q.value,void 0,N):m(a,void 0,void 0,N),q):(s=!0,queueMicrotask(()=>s=!1),ne(()=>{h(d?"refreshing":"pending"),w()},!1),q.then(F=>m(q,F,void 0,N),F=>m(q,void 0,Ot(F),N)))):(m(a,q,void 0,N),q)}return Object.defineProperties(R,{state:{get:()=>O()},error:{get:()=>A()},loading:{get(){const I=O();return I==="pending"||I==="refreshing"}},latest:{get(){if(!d)return R();const I=A();if(I&&!a)throw I;return g()}}}),u?ht(()=>H(!1)):H(!1),[R,{refetch:H,mutate:b}]}function ee(e){return ne(e,!1)}function j(e){if(B===null)return e();const t=B;B=null;try{return e()}finally{B=t}}function _e(e){z(()=>j(e))}function ie(e){return E===null||(E.cleanups===null?E.cleanups=[e]:E.cleanups.push(e)),e}function et(){return B}function Or(){return E}function Er(e,t){const r=E,n=B;E=e,B=null;try{return ne(t,!0)}catch(l){at(l)}finally{E=r,B=n}}function lt(e,t){const r=Symbol("context");return{id:r,Provider:Rr(r),defaultValue:e}}function ot(e){return E&&E.context&&E.context[e.id]!==void 0?E.context[e.id]:e.defaultValue}function Ir(e){const t=X(e),r=X(()=>tt(t()));return r.toArray=()=>{const n=r();return Array.isArray(n)?n:n!=null?[n]:[]},r}let Nr;function At(){if(this.sources&&this.state)if(this.state===le)ve(this);else{const e=J;J=null,ne(()=>Le(this),!1),J=e}if(B){const e=this.observers?this.observers.length:0;B.sources?(B.sources.push(this),B.sourceSlots.push(e)):(B.sources=[this],B.sourceSlots=[e]),this.observers?(this.observers.push(B),this.observerSlots.push(B.sources.length-1)):(this.observers=[B],this.observerSlots=[B.sources.length-1])}return this.value}function _t(e,t,r){let n=e.value;return(!e.comparator||!e.comparator(n,t))&&(e.value=t,e.observers&&e.observers.length&&ne(()=>{for(let l=0;l<e.observers.length;l+=1){const o=e.observers[l],a=He&&He.running;a&&He.disposed.has(o),(a?!o.tState:!o.state)&&(o.pure?J.push(o):re.push(o),o.observers&&Pt(o)),a||(o.state=le)}if(J.length>1e6)throw J=[],new Error},!1)),t}function ve(e){if(!e.fn)return;Qe(e);const t=Ge;qr(e,e.value,t)}function qr(e,t,r){let n;const l=E,o=B;B=E=e;try{n=e.fn(t)}catch(a){return e.pure&&(e.state=le,e.owned&&e.owned.forEach(Qe),e.owned=null),e.updatedAt=r+1,at(a)}finally{B=o,E=l}(!e.updatedAt||e.updatedAt<=r)&&(e.updatedAt!=null&&"observers"in e?_t(e,n):e.value=n,e.updatedAt=r)}function Ve(e,t,r,n=le,l){const o={fn:e,state:n,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:E,context:E?E.context:null,pure:r};return E===null||E!==St&&(E.owned?E.owned.push(o):E.owned=[o]),o}function qe(e){if(e.state===0)return;if(e.state===Ne)return Le(e);if(e.suspense&&j(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Ge);)e.state&&t.push(e);for(let r=t.length-1;r>=0;r--)if(e=t[r],e.state===le)ve(e);else if(e.state===Ne){const n=J;J=null,ne(()=>Le(e,t[0]),!1),J=n}}function ne(e,t){if(J)return e();let r=!1;t||(J=[]),re?r=!0:re=[],Ge++;try{const n=e();return Lr(r),n}catch(n){r||(re=null),J=null,at(n)}}function Lr(e){if(J&&(Tt(J),J=null),e)return;const t=re;re=null,t.length&&ne(()=>Ct(t),!1)}function Tt(e){for(let t=0;t<e.length;t++)qe(e[t])}function Br(e){let t,r=0;for(t=0;t<e.length;t++){const n=e[t];n.user?e[r++]=n:qe(n)}for(t=0;t<r;t++)qe(e[t])}function Le(e,t){e.state=0;for(let r=0;r<e.sources.length;r+=1){const n=e.sources[r];if(n.sources){const l=n.state;l===le?n!==t&&(!n.updatedAt||n.updatedAt<Ge)&&qe(n):l===Ne&&Le(n,t)}}}function Pt(e){for(let t=0;t<e.observers.length;t+=1){const r=e.observers[t];r.state||(r.state=Ne,r.pure?J.push(r):re.push(r),r.observers&&Pt(r))}}function Qe(e){let t;if(e.sources)for(;e.sources.length;){const r=e.sources.pop(),n=e.sourceSlots.pop(),l=r.observers;if(l&&l.length){const o=l.pop(),a=r.observerSlots.pop();n<l.length&&(o.sourceSlots[a]=n,l[n]=o,r.observerSlots[n]=a)}}if(e.owned){for(t=e.owned.length-1;t>=0;t--)Qe(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function Ot(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function at(e,t=E){throw Ot(e)}function tt(e){if(typeof e=="function"&&!e.length)return tt(e());if(Array.isArray(e)){const t=[];for(let r=0;r<e.length;r++){const n=tt(e[r]);Array.isArray(n)?t.push.apply(t,n):t.push(n)}return t}return e}function Rr(e,t){return function(n){let l;return k(()=>l=j(()=>(E.context={...E.context,[e]:n.value},Ir(()=>n.children))),void 0),l}}const jr=Symbol("fallback");function gt(e){for(let t=0;t<e.length;t++)e[t]()}function Mr(e,t,r={}){let n=[],l=[],o=[],a=0,i=t.length>1?[]:null;return ie(()=>gt(o)),()=>{let s=e()||[],d,u;return s[Ze],j(()=>{let g=s.length,b,A,v,p,w,O,h,m,D;if(g===0)a!==0&&(gt(o),o=[],n=[],l=[],a=0,i&&(i=[])),r.fallback&&(n=[jr],l[0]=Ce(R=>(o[0]=R,r.fallback())),a=1);else if(a===0){for(l=new Array(g),u=0;u<g;u++)n[u]=s[u],l[u]=Ce(f);a=g}else{for(v=new Array(g),p=new Array(g),i&&(w=new Array(g)),O=0,h=Math.min(a,g);O<h&&n[O]===s[O];O++);for(h=a-1,m=g-1;h>=O&&m>=O&&n[h]===s[m];h--,m--)v[m]=l[h],p[m]=o[h],i&&(w[m]=i[h]);for(b=new Map,A=new Array(m+1),u=m;u>=O;u--)D=s[u],d=b.get(D),A[u]=d===void 0?-1:d,b.set(D,u);for(d=O;d<=h;d++)D=n[d],u=b.get(D),u!==void 0&&u!==-1?(v[u]=l[d],p[u]=o[d],i&&(w[u]=i[d]),u=A[u],b.set(D,u)):o[d]();for(u=O;u<g;u++)u in v?(l[u]=v[u],o[u]=p[u],i&&(i[u]=w[u],i[u](u))):l[u]=Ce(f);l=l.slice(0,a=g),n=s.slice(0)}return l});function f(g){if(o[u]=g,i){const[b,A]=G(u);return i[u]=A,t(s[u],b)}return t(s[u])}}}function x(e,t){return j(()=>e(t||{}))}function Oe(){return!0}const Gr={get(e,t,r){return t===Z?r:e.get(t)},has(e,t){return t===Z?!0:e.has(t)},set:Oe,deleteProperty:Oe,getOwnPropertyDescriptor(e,t){return{configurable:!0,enumerable:!0,get(){return e.get(t)},set:Oe,deleteProperty:Oe}},ownKeys(e){return e.keys()}};function Ke(e){return(e=typeof e=="function"?e():e)?e:{}}function Vr(){for(let e=0,t=this.length;e<t;++e){const r=this[e]();if(r!==void 0)return r}}function pe(...e){let t=!1;for(let a=0;a<e.length;a++){const i=e[a];t=t||!!i&&Z in i,e[a]=typeof i=="function"?(t=!0,X(i)):i}if(t)return new Proxy({get(a){for(let i=e.length-1;i>=0;i--){const s=Ke(e[i])[a];if(s!==void 0)return s}},has(a){for(let i=e.length-1;i>=0;i--)if(a in Ke(e[i]))return!0;return!1},keys(){const a=[];for(let i=0;i<e.length;i++)a.push(...Object.keys(Ke(e[i])));return[...new Set(a)]}},Gr);const r={},n=Object.create(null);for(let a=e.length-1;a>=0;a--){const i=e[a];if(!i)continue;const s=Object.getOwnPropertyNames(i);for(let d=s.length-1;d>=0;d--){const u=s[d];if(u==="__proto__"||u==="constructor")continue;const f=Object.getOwnPropertyDescriptor(i,u);if(!n[u])n[u]=f.get?{enumerable:!0,configurable:!0,get:Vr.bind(r[u]=[f.get.bind(i)])}:f.value!==void 0?f:void 0;else{const g=r[u];g&&(f.get?g.push(f.get.bind(i)):f.value!==void 0&&g.push(()=>f.value))}}}const l={},o=Object.keys(n);for(let a=o.length-1;a>=0;a--){const i=o[a],s=n[i];s&&s.get?Object.defineProperty(l,i,s):l[i]=s?s.value:void 0}return l}const Qr=e=>`Stale read from <${e}>.`;function Se(e){const t="fallback"in e&&{fallback:()=>e.fallback};return X(Mr(()=>e.each,e.children,t||void 0))}function W(e){const t=e.keyed,r=X(()=>e.when,void 0,{equals:(n,l)=>t?n===l:!n==!l});return X(()=>{const n=r();if(n){const l=e.children;return typeof l=="function"&&l.length>0?j(()=>l(t?n:()=>{if(!j(r))throw Qr("Show");return e.when})):l}return e.fallback},void 0,void 0)}const Ur=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],Fr=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...Ur]),Jr=new Set(["innerHTML","textContent","innerText","children"]),Wr=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),Hr=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Kr(e,t){const r=Hr[e];return typeof r=="object"?r[t]?r.$:void 0:r}const Xr=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);function Yr(e,t,r){let n=r.length,l=t.length,o=n,a=0,i=0,s=t[l-1].nextSibling,d=null;for(;a<l||i<o;){if(t[a]===r[i]){a++,i++;continue}for(;t[l-1]===r[o-1];)l--,o--;if(l===a){const u=o<n?i?r[i-1].nextSibling:r[o-i]:s;for(;i<o;)e.insertBefore(r[i++],u)}else if(o===i)for(;a<l;)(!d||!d.has(t[a]))&&t[a].remove(),a++;else if(t[a]===r[o-1]&&r[i]===t[l-1]){const u=t[--l].nextSibling;e.insertBefore(r[i++],t[a++].nextSibling),e.insertBefore(r[--o],u),t[l]=r[o]}else{if(!d){d=new Map;let f=i;for(;f<o;)d.set(r[f],f++)}const u=d.get(t[a]);if(u!=null)if(i<u&&u<o){let f=a,g=1,b;for(;++f<l&&f<o&&!((b=d.get(t[f]))==null||b!==u+g);)g++;if(g>u-i){const A=t[a];for(;i<u;)e.insertBefore(r[i++],A)}else e.replaceChild(r[i++],t[a++])}else a++;else t[a++].remove()}}}const pt="_$DX_DELEGATE";function zr(e,t,r,n={}){let l;return Ce(o=>{l=o,t===document?e():$(t,e(),t.firstChild?null:void 0,r)},n.owner),()=>{l(),t.textContent=""}}function T(e,t,r){let n;const l=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},o=()=>(n||(n=l())).cloneNode(!0);return o.cloneNode=o,o}function we(e,t=window.document){const r=t[pt]||(t[pt]=new Set);for(let n=0,l=e.length;n<l;n++){const o=e[n];r.has(o)||(r.add(o),t.addEventListener(o,nn))}}function P(e,t,r){r==null?e.removeAttribute(t):e.setAttribute(t,r)}function ue(e,t){t==null?e.removeAttribute("class"):e.className=t}function Et(e,t,r,n){if(n)Array.isArray(r)?(e[`$$${t}`]=r[0],e[`$$${t}Data`]=r[1]):e[`$$${t}`]=r;else if(Array.isArray(r)){const l=r[0];e.addEventListener(t,r[0]=o=>l.call(e,r[1],o))}else e.addEventListener(t,r)}function Zr(e,t,r={}){const n=Object.keys(t||{}),l=Object.keys(r);let o,a;for(o=0,a=l.length;o<a;o++){const i=l[o];!i||i==="undefined"||t[i]||(bt(e,i,!1),delete r[i])}for(o=0,a=n.length;o<a;o++){const i=n[o],s=!!t[i];!i||i==="undefined"||r[i]===s||!s||(bt(e,i,!0),r[i]=s)}return r}function it(e,t,r){if(!t)return r?P(e,"style"):t;const n=e.style;if(typeof t=="string")return n.cssText=t;typeof r=="string"&&(n.cssText=r=void 0),r||(r={}),t||(t={});let l,o;for(o in r)t[o]==null&&n.removeProperty(o),delete r[o];for(o in t)l=t[o],l!==r[o]&&(n.setProperty(o,l),r[o]=l);return r}function en(e,t={},r,n){const l={};return k(()=>typeof t.ref=="function"?Ue(t.ref,e):t.ref=e),k(()=>tn(e,t,r,!0,l,!0)),l}function Ue(e,t,r){return j(()=>e(t,r))}function $(e,t,r,n){if(r!==void 0&&!n&&(n=[]),typeof t!="function")return Be(e,t,n,r);k(l=>Be(e,t(),l,r),n)}function tn(e,t,r,n,l={},o=!1){t||(t={});for(const a in l)if(!(a in t)){if(a==="children")continue;l[a]=yt(e,a,null,l[a],r,o)}for(const a in t){if(a==="children")continue;const i=t[a];l[a]=yt(e,a,i,l[a],r,o)}}function rn(e){return e.toLowerCase().replace(/-([a-z])/g,(t,r)=>r.toUpperCase())}function bt(e,t,r){const n=t.trim().split(/\s+/);for(let l=0,o=n.length;l<o;l++)e.classList.toggle(n[l],r)}function yt(e,t,r,n,l,o){let a,i,s,d,u;if(t==="style")return it(e,r,n);if(t==="classList")return Zr(e,r,n);if(r===n)return n;if(t==="ref")o||r(e);else if(t.slice(0,3)==="on:"){const f=t.slice(3);n&&e.removeEventListener(f,n),r&&e.addEventListener(f,r)}else if(t.slice(0,10)==="oncapture:"){const f=t.slice(10);n&&e.removeEventListener(f,n,!0),r&&e.addEventListener(f,r,!0)}else if(t.slice(0,2)==="on"){const f=t.slice(2).toLowerCase(),g=Xr.has(f);if(!g&&n){const b=Array.isArray(n)?n[0]:n;e.removeEventListener(f,b)}(g||r)&&(Et(e,f,r,g),g&&we([f]))}else t.slice(0,5)==="attr:"?P(e,t.slice(5),r):(u=t.slice(0,5)==="prop:")||(s=Jr.has(t))||(d=Kr(t,e.tagName))||(i=Fr.has(t))||(a=e.nodeName.includes("-"))?(u&&(t=t.slice(5),i=!0),t==="class"||t==="className"?ue(e,r):a&&!i&&!s?e[rn(t)]=r:e[d||t]=r):P(e,Wr[t]||t,r);return r}function nn(e){const t=`$$${e.type}`;let r=e.composedPath&&e.composedPath()[0]||e.target;for(e.target!==r&&Object.defineProperty(e,"target",{configurable:!0,value:r}),Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return r||document}});r;){const n=r[t];if(n&&!r.disabled){const l=r[`${t}Data`];if(l!==void 0?n.call(r,l,e):n.call(r,e),e.cancelBubble)return}r=r._$host||r.parentNode||r.host}}function Be(e,t,r,n,l){for(;typeof r=="function";)r=r();if(t===r)return r;const o=typeof t,a=n!==void 0;if(e=a&&r[0]&&r[0].parentNode||e,o==="string"||o==="number")if(o==="number"&&(t=t.toString()),a){let i=r[0];i&&i.nodeType===3?i.data!==t&&(i.data=t):i=document.createTextNode(t),r=fe(e,r,n,i)}else r!==""&&typeof r=="string"?r=e.firstChild.data=t:r=e.textContent=t;else if(t==null||o==="boolean")r=fe(e,r,n);else{if(o==="function")return k(()=>{let i=t();for(;typeof i=="function";)i=i();r=Be(e,i,r,n)}),()=>r;if(Array.isArray(t)){const i=[],s=r&&Array.isArray(r);if(rt(i,t,r,l))return k(()=>r=Be(e,i,r,n,!0)),()=>r;if(i.length===0){if(r=fe(e,r,n),a)return r}else s?r.length===0?mt(e,i,n):Yr(e,r,i):(r&&fe(e),mt(e,i));r=i}else if(t.nodeType){if(Array.isArray(r)){if(a)return r=fe(e,r,n,t);fe(e,r,null,t)}else r==null||r===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);r=t}}return r}function rt(e,t,r,n){let l=!1;for(let o=0,a=t.length;o<a;o++){let i=t[o],s=r&&r[e.length],d;if(!(i==null||i===!0||i===!1))if((d=typeof i)=="object"&&i.nodeType)e.push(i);else if(Array.isArray(i))l=rt(e,i,s)||l;else if(d==="function")if(n){for(;typeof i=="function";)i=i();l=rt(e,Array.isArray(i)?i:[i],Array.isArray(s)?s:[s])||l}else e.push(i),l=!0;else{const u=String(i);s&&s.nodeType===3&&s.data===u?e.push(s):e.push(document.createTextNode(u))}}return l}function mt(e,t,r=null){for(let n=0,l=t.length;n<l;n++)e.insertBefore(t[n],r)}function fe(e,t,r,n){if(r===void 0)return e.textContent="";const l=n||document.createTextNode("");if(t.length){let o=!1;for(let a=t.length-1;a>=0;a--){const i=t[a];if(l!==i){const s=i.parentNode===e;!o&&!a?s?e.replaceChild(l,i):e.insertBefore(l,r):s&&i.remove()}else o=!0}}else e.insertBefore(l,r);return[l]}const ln="http://www.w3.org/2000/svg";function on(e,t=!1){return t?document.createElementNS(ln,e):document.createElement(e)}function an(e){const{useShadow:t}=e,r=document.createTextNode(""),n=()=>e.mount||document.body,l=Or();let o,a=!!Sr.context;return z(()=>{o||(o=Er(l,()=>X(()=>e.children)));const i=n();if(i instanceof HTMLHeadElement){const[s,d]=G(!1),u=()=>d(!0);Ce(f=>$(i,()=>s()?f():o(),null)),ie(u)}else{const s=on(e.isSVG?"g":"div",e.isSVG),d=t&&s.attachShadow?s.attachShadow({mode:"open"}):s;Object.defineProperty(s,"_$host",{get(){return r.parentNode},configurable:!0}),$(d,o),i.appendChild(s),e.ref&&e.ref(s),ie(()=>i.removeChild(s))}},void 0,{render:!a}),r}const Re=Symbol("store-raw"),he=Symbol("store-node"),te=Symbol("store-has"),It=Symbol("store-self");function Nt(e){let t=e[Z];if(!t&&(Object.defineProperty(e,Z,{value:t=new Proxy(e,dn)}),!Array.isArray(e))){const r=Object.keys(e),n=Object.getOwnPropertyDescriptors(e);for(let l=0,o=r.length;l<o;l++){const a=r[l];n[a].get&&Object.defineProperty(e,a,{enumerable:n[a].enumerable,get:n[a].get.bind(t)})}}return t}function be(e){let t;return e!=null&&typeof e=="object"&&(e[Z]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function ye(e,t=new Set){let r,n,l,o;if(r=e!=null&&e[Re])return r;if(!be(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,i=e.length;a<i;a++)l=e[a],(n=ye(l,t))!==l&&(e[a]=n)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let s=0,d=a.length;s<d;s++)o=a[s],!i[o].get&&(l=e[o],(n=ye(l,t))!==l&&(e[o]=n))}return e}function je(e,t){let r=e[t];return r||Object.defineProperty(e,t,{value:r=Object.create(null)}),r}function Ae(e,t,r){if(e[t])return e[t];const[n,l]=G(r,{equals:!1,internal:!0});return n.$=l,e[t]=n}function sn(e,t){const r=Reflect.getOwnPropertyDescriptor(e,t);return!r||r.get||!r.configurable||t===Z||t===he||(delete r.value,delete r.writable,r.get=()=>e[Z][t]),r}function qt(e){et()&&Ae(je(e,he),It)()}function un(e){return qt(e),Reflect.ownKeys(e)}const dn={get(e,t,r){if(t===Re)return e;if(t===Z)return r;if(t===Ze)return qt(e),r;const n=je(e,he),l=n[t];let o=l?l():e[t];if(t===he||t===te||t==="__proto__")return o;if(!l){const a=Object.getOwnPropertyDescriptor(e,t);et()&&(typeof o!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(o=Ae(n,t,o)())}return be(o)?Nt(o):o},has(e,t){return t===Re||t===Z||t===Ze||t===he||t===te||t==="__proto__"?!0:(et()&&Ae(je(e,te),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:un,getOwnPropertyDescriptor:sn};function me(e,t,r,n=!1){if(!n&&e[t]===r)return;const l=e[t],o=e.length;r===void 0?(delete e[t],e[te]&&e[te][t]&&l!==void 0&&e[te][t].$()):(e[t]=r,e[te]&&e[te][t]&&l===void 0&&e[te][t].$());let a=je(e,he),i;if((i=Ae(a,t,l))&&i.$(()=>r),Array.isArray(e)&&e.length!==o){for(let s=e.length;s<o;s++)(i=a[s])&&i.$();(i=Ae(a,"length",o))&&i.$(e.length)}(i=a[It])&&i.$()}function Lt(e,t){const r=Object.keys(t);for(let n=0;n<r.length;n+=1){const l=r[n];me(e,l,t[l])}}function cn(e,t){if(typeof t=="function"&&(t=t(e)),t=ye(t),Array.isArray(t)){if(e===t)return;let r=0,n=t.length;for(;r<n;r++){const l=t[r];e[r]!==l&&me(e,r,l)}me(e,"length",n)}else Lt(e,t)}function De(e,t,r=[]){let n,l=e;if(t.length>1){n=t.shift();const a=typeof n,i=Array.isArray(e);if(Array.isArray(n)){for(let s=0;s<n.length;s++)De(e,[n[s]].concat(t),r);return}else if(i&&a==="function"){for(let s=0;s<e.length;s++)n(e[s],s)&&De(e,[s].concat(t),r);return}else if(i&&a==="object"){const{from:s=0,to:d=e.length-1,by:u=1}=n;for(let f=s;f<=d;f+=u)De(e,[f].concat(t),r);return}else if(t.length>1){De(e[n],t,[n].concat(r));return}l=e[n],r=[n].concat(r)}let o=t[0];typeof o=="function"&&(o=o(l,r),o===l)||n===void 0&&o==null||(o=ye(o),n===void 0||be(l)&&be(o)&&!Array.isArray(o)?Lt(l,o):me(e,n,o))}function Bt(...[e,t]){const r=ye(e||{}),n=Array.isArray(r),l=Nt(r);function o(...a){ee(()=>{n&&a.length===1?cn(r,a[0]):De(r,a)})}return[l,o]}const Me=new WeakMap,Rt={get(e,t){if(t===Re)return e;const r=e[t];let n;return be(r)?Me.get(r)||(Me.set(r,n=new Proxy(r,Rt)),n):r},set(e,t,r){return me(e,t,ye(r)),!0},deleteProperty(e,t){return me(e,t,void 0,!0),!0}};function fn(e){return t=>{if(be(t)){let r;(r=Me.get(t))||Me.set(t,r=new Proxy(t,Rt)),e(r)}return t}}var hn=T("<div>"),Fe=class{x;y;width;height;constructor(e){this.x=Math.floor(e.x),this.y=Math.floor(e.y),this.width=Math.floor(e.width),this.height=Math.floor(e.height)}get rect(){return{x:this.x,y:this.y,width:this.width,height:this.height}}get left(){return this.x}get top(){return this.y}get right(){return this.x+this.width}get bottom(){return this.y+this.height}get center(){return{x:this.x+this.width*.5,y:this.y+this.height*.5}}get corners(){return{topLeft:{x:this.left,y:this.top},topRight:{x:this.right,y:this.top},bottomRight:{x:this.left,y:this.bottom},bottomLeft:{x:this.right,y:this.bottom}}}},ge=e=>{let t=new Fe(e.getBoundingClientRect());const{transform:r}=getComputedStyle(e);return r&&(t=gn(t,r)),t},gn=(e,t)=>{let r,n;if(t.startsWith("matrix3d(")){const l=t.slice(9,-1).split(/, /);r=+l[12],n=+l[13]}else if(t.startsWith("matrix(")){const l=t.slice(7,-1).split(/, /);r=+l[4],n=+l[5]}else r=0,n=0;return new Fe({...e,x:e.x-r,y:e.y-n})},ae=()=>({x:0,y:0}),jt=(e,t)=>e.x===t.x&&e.y===t.y,Xe=(e,t)=>new Fe({...e,x:e.x+t.x,y:e.y+t.y}),Ee=(e,t)=>Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2)),pn=(e,t)=>{const r=Math.max(e.top,t.top),n=Math.max(e.left,t.left),l=Math.min(e.right,t.right),o=Math.min(e.bottom,t.bottom),a=l-n,i=o-r;if(n<l&&r<o){const s=e.width*e.height,d=t.width*t.height,u=a*i;return u/(s+d-u)}return 0},Ye=(e,t)=>e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height,bn=(e,t,r)=>{const n=e.transformed.corners,l={distance:1/0,droppable:null};for(const o of t){const a=o.layout.corners,i=Ee(a.topLeft,n.topLeft)+Ee(a.topRight,n.topRight)+Ee(a.bottomRight,n.bottomRight)+Ee(a.bottomLeft,n.bottomLeft);i<l.distance?(l.distance=i,l.droppable=o):i===l.distance&&o.id===r.activeDroppableId&&(l.droppable=o)}return l.droppable},yn=(e,t,r)=>{const n=e.transformed,l={ratio:0,droppable:null};for(const o of t){const a=pn(n,o.layout);a>l.ratio?(l.ratio=a,l.droppable=o):a>0&&a===l.ratio&&o.id===r.activeDroppableId&&(l.droppable=o)}return l.droppable},Mt=lt(),mn=e=>{const t=pe({collisionDetector:yn},e),[r,n]=Bt({draggables:{},droppables:{},sensors:{},active:{draggableId:null,get draggable(){return r.active.draggableId!==null?r.draggables[r.active.draggableId]:null},droppableId:null,get droppable(){return r.active.droppableId!==null?r.droppables[r.active.droppableId]:null},sensorId:null,get sensor(){return r.active.sensorId!==null?r.sensors[r.active.sensorId]:null},overlay:null}}),l=(c,y,C)=>{c.substring(0,c.length-1),j(()=>r[c][y])&&n(c,y,"transformers",C.id,C)},o=(c,y,C)=>{c.substring(0,c.length-1),j(()=>r[c][y])&&j(()=>r[c][y].transformers[C])&&n(c,y,"transformers",C,void 0)},a=({id:c,node:y,layout:C,data:V})=>{const _=r.draggables[c],S={id:c,node:y,layout:C,data:V,_pendingCleanup:!1};let L;if(!_)Object.defineProperties(S,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{if(r.active.overlay)return ae();const M=Object.values(r.draggables[c].transformers);return M.sort((K,oe)=>K.order-oe.order),M.reduce((K,oe)=>oe.callback(K),ae())}},transformed:{enumerable:!0,configurable:!0,get:()=>Xe(r.draggables[c].layout,r.draggables[c].transform)}});else if(r.active.draggableId===c&&!r.active.overlay){const M={x:_.layout.x-C.x,y:_.layout.y-C.y},K="addDraggable-existing-offset",oe=_.transformers[K],Pe=oe?oe.callback(M):M;L={id:K,order:100,callback:xe=>({x:xe.x+Pe.x,y:xe.y+Pe.y})},F(()=>o("draggables",c,K))}ee(()=>{n("draggables",c,S),L&&l("draggables",c,L)}),r.active.draggable&&m()},i=c=>{j(()=>r.draggables[c])&&(n("draggables",c,"_pendingCleanup",!0),queueMicrotask(()=>s(c)))},s=c=>{if(r.draggables[c]?._pendingCleanup){const y=r.active.draggableId===c;ee(()=>{y&&n("active","draggableId",null),n("draggables",c,void 0)})}},d=({id:c,node:y,layout:C,data:V})=>{const _=r.droppables[c],S={id:c,node:y,layout:C,data:V,_pendingCleanup:!1};_||Object.defineProperties(S,{transformers:{enumerable:!0,configurable:!0,writable:!0,value:{}},transform:{enumerable:!0,configurable:!0,get:()=>{const L=Object.values(r.droppables[c].transformers);return L.sort((M,K)=>M.order-K.order),L.reduce((M,K)=>K.callback(M),ae())}},transformed:{enumerable:!0,configurable:!0,get:()=>Xe(r.droppables[c].layout,r.droppables[c].transform)}}),n("droppables",c,S),r.active.draggable&&m()},u=c=>{j(()=>r.droppables[c])&&(n("droppables",c,"_pendingCleanup",!0),queueMicrotask(()=>f(c)))},f=c=>{if(r.droppables[c]?._pendingCleanup){const y=r.active.droppableId===c;ee(()=>{y&&n("active","droppableId",null),n("droppables",c,void 0)})}},g=({id:c,activators:y})=>{n("sensors",c,{id:c,activators:y,coordinates:{origin:{x:0,y:0},current:{x:0,y:0},get delta(){return{x:r.sensors[c].coordinates.current.x-r.sensors[c].coordinates.origin.x,y:r.sensors[c].coordinates.current.y-r.sensors[c].coordinates.origin.y}}}})},b=c=>{if(!j(()=>r.sensors[c]))return;const y=r.active.sensorId===c;ee(()=>{y&&n("active","sensorId",null),n("sensors",c,void 0)})},A=({node:c,layout:y})=>{const C=r.active.overlay,V={node:c,layout:y};C||Object.defineProperties(V,{id:{enumerable:!0,configurable:!0,get:()=>r.active.draggable?.id},data:{enumerable:!0,configurable:!0,get:()=>r.active.draggable?.data},transformers:{enumerable:!0,configurable:!0,get:()=>Object.fromEntries(Object.entries(r.active.draggable?r.active.draggable.transformers:{}).filter(([_])=>_!=="addDraggable-existing-offset"))},transform:{enumerable:!0,configurable:!0,get:()=>{const _=Object.values(r.active.overlay?r.active.overlay.transformers:[]);return _.sort((S,L)=>S.order-L.order),_.reduce((S,L)=>L.callback(S),ae())}},transformed:{enumerable:!0,configurable:!0,get:()=>r.active.overlay?Xe(r.active.overlay.layout,r.active.overlay.transform):new Fe({x:0,y:0,width:0,height:0})}}),n("active","overlay",V)},v=()=>n("active","overlay",null),p=(c,y)=>{ee(()=>{n("sensors",c,"coordinates",{origin:{...y},current:{...y}}),n("active","sensorId",c)})},w=c=>{const y=r.active.sensorId;y&&n("sensors",y,"coordinates","current",{...c})},O=()=>n("active","sensorId",null),h=(c,y)=>{const C={};for(const _ of Object.values(r.sensors))if(_)for(const[S,L]of Object.entries(_.activators))C[S]??=[],C[S].push({sensor:_,activator:L});const V={};for(const _ in C){let S=_;y&&(S=`on${_}`),V[S]=L=>{for(const{activator:M}of C[_]){if(r.active.sensor)break;M(L,c)}}}return V},m=()=>{let c=!1;const y=Object.values(r.draggables),C=Object.values(r.droppables),V=r.active.overlay;return ee(()=>{const _=new WeakMap;for(const S of y)if(S){const L=S.layout;_.has(S.node)||_.set(S.node,ge(S.node));const M=_.get(S.node);Ye(L,M)||(n("draggables",S.id,"layout",M),c=!0)}for(const S of C)if(S){const L=S.layout;_.has(S.node)||_.set(S.node,ge(S.node));const M=_.get(S.node);Ye(L,M)||(n("droppables",S.id,"layout",M),c=!0)}if(V){const S=V.layout,L=ge(V.node);Ye(S,L)||(n("active","overlay","layout",L),c=!0)}}),c},D=()=>{const c=r.active.overlay??r.active.draggable;if(c){const y=t.collisionDetector(c,Object.values(r.droppables),{activeDroppableId:r.active.droppableId}),C=y?y.id:null;r.active.droppableId!==C&&n("active","droppableId",C)}},R=c=>{const y={id:"sensorMove",order:0,callback:C=>r.active.sensor?{x:C.x+r.active.sensor.coordinates.delta.x,y:C.y+r.active.sensor.coordinates.delta.y}:C};m(),ee(()=>{n("active","draggableId",c),l("draggables",c,y)}),D()},H=()=>{const c=j(()=>r.active.draggableId);ee(()=>{c!==null&&o("draggables",c,"sensorMove"),n("active",["draggableId","droppableId"],null)}),m()},I=c=>{z(()=>{const y=r.active.draggable;y&&j(()=>c({draggable:y}))})},N=c=>{z(()=>{const y=r.active.draggable;if(y){const C=j(()=>r.active.overlay);Object.values(C?C.transform:y.transform),j(()=>c({draggable:y,overlay:C}))}})},q=c=>{z(()=>{const y=r.active.draggable,C=r.active.droppable;y&&j(()=>c({draggable:y,droppable:C,overlay:r.active.overlay}))})},F=c=>{z(({previousDraggable:y,previousDroppable:C,previousOverlay:V})=>{const _=r.active.draggable,S=_?r.active.droppable:null,L=_?r.active.overlay:null;return!_&&y&&j(()=>c({draggable:y,droppable:C,overlay:V})),{previousDraggable:_,previousDroppable:S,previousOverlay:L}},{previousDraggable:null,previousDroppable:null,previousOverlay:null})};N(()=>D()),t.onDragStart&&I(t.onDragStart),t.onDragMove&&N(t.onDragMove),t.onDragOver&&q(t.onDragOver),t.onDragEnd&&F(t.onDragEnd);const se=[r,{addTransformer:l,removeTransformer:o,addDraggable:a,removeDraggable:i,addDroppable:d,removeDroppable:u,addSensor:g,removeSensor:b,setOverlay:A,clearOverlay:v,recomputeLayouts:m,detectCollisions:D,draggableActivators:h,sensorStart:p,sensorMove:w,sensorEnd:O,dragStart:R,dragEnd:H,onDragStart:I,onDragMove:N,onDragOver:q,onDragEnd:F}];return x(Mt.Provider,{value:se,get children(){return t.children}})},de=()=>ot(Mt)||null,vn=(e="pointer-sensor")=>{const[t,{addSensor:r,removeSensor:n,sensorStart:l,sensorMove:o,sensorEnd:a,dragStart:i,dragEnd:s}]=de(),d=250,u=10;_e(()=>{r({id:e,activators:{pointerdown:v}})}),ie(()=>{n(e)});const f=()=>t.active.sensorId===e,g={x:0,y:0};let b=null,A=null;const v=(D,R)=>{D.button===0&&(document.addEventListener("pointermove",O),document.addEventListener("pointerup",h),A=R,g.x=D.clientX,g.y=D.clientY,b=window.setTimeout(w,d))},p=()=>{b&&(clearTimeout(b),b=null),document.removeEventListener("pointermove",O),document.removeEventListener("pointerup",h),document.removeEventListener("selectionchange",m)},w=()=>{t.active.sensor?f()||p():(l(e,g),i(A),m(),document.addEventListener("selectionchange",m))},O=D=>{const R={x:D.clientX,y:D.clientY};if(!t.active.sensor){const H={x:R.x-g.x,y:R.y-g.y};Math.sqrt(H.x**2+H.y**2)>u&&w()}f()&&(D.preventDefault(),o(R))},h=D=>{p(),f()&&(D.preventDefault(),s(),a())},m=()=>{window.getSelection()?.removeAllRanges()}},wn=e=>(vn(),X(()=>e.children)),Je=e=>({transform:`translate3d(${e.x}px, ${e.y}px, 0)`}),xn=(e,t={})=>{const[r,{addDraggable:n,removeDraggable:l,draggableActivators:o}]=de(),[a,i]=G(null);_e(()=>{const f=a();f&&n({id:e,node:f,layout:ge(f),data:t})}),ie(()=>l(e));const s=()=>r.active.draggableId===e,d=()=>r.draggables[e]?.transform||ae();return Object.defineProperties((f,g)=>{const b=g?g():{};z(()=>{const A=a(),v=o(e);if(A)for(const p in v)A.addEventListener(p,v[p]);ie(()=>{if(A)for(const p in v)A.removeEventListener(p,v[p])})}),i(f),b.skipTransform||z(()=>{const A=d();if(jt(A,ae()))f.style.removeProperty("transform");else{const v=Je(d());f.style.setProperty("transform",v.transform??null)}})},{ref:{enumerable:!0,value:i},isActiveDraggable:{enumerable:!0,get:s},dragActivators:{enumerable:!0,get:()=>o(e,!0)},transform:{enumerable:!0,get:d}})},kn=(e,t={})=>{const[r,{addDroppable:n,removeDroppable:l}]=de(),[o,a]=G(null);_e(()=>{const u=o();u&&n({id:e,node:u,layout:ge(u),data:t})}),ie(()=>l(e));const i=()=>r.active.droppableId===e,s=()=>r.droppables[e]?.transform||ae();return Object.defineProperties((u,f)=>{const g=f?f():{};a(u),g.skipTransform||z(()=>{const b=s();if(jt(b,ae()))u.style.removeProperty("transform");else{const A=Je(s());u.style.setProperty("transform",A.transform??null)}})},{ref:{enumerable:!0,value:a},isActiveDroppable:{enumerable:!0,get:i},transform:{enumerable:!0,get:s}})},$n=e=>{const[t,{onDragStart:r,onDragEnd:n,setOverlay:l,clearOverlay:o}]=de();let a;r(({draggable:s})=>{l({node:s.node,layout:s.layout}),queueMicrotask(()=>{if(a){const d=ge(a),u={x:(s.layout.width-d.width)/2,y:(s.layout.height-d.height)/2};d.x+=u.x,d.y+=u.y,l({node:a,layout:d})}})}),n(()=>queueMicrotask(o));const i=()=>{const s=t.active.overlay,d=t.active.draggable;return!s||!d?{}:{position:"fixed",transition:"transform 0s",top:`${s.layout.top}px`,left:`${s.layout.left}px`,"min-width":`${d.layout.width}px`,"min-height":`${d.layout.height}px`,...Je(s.transform),...e.style}};return x(an,{get mount(){return document.body},get children(){return x(W,{get when(){return t.active.draggable},get children(){var s=hn(),d=a;return typeof d=="function"?Ue(d,s):a=s,$(s,(()=>{var u=X(()=>typeof e.children=="function");return()=>u()?e.children(t.active.draggable):e.children})()),k(u=>{var f=e.class,g=i();return f!==u.e&&ue(s,u.e=f),u.t=it(s,g,u.t),u},{e:void 0,t:void 0}),s}})}})};const Dn=[{name:"=",value:"=",label:"="},{name:"!=",value:"!=",label:"!="},{name:"<",value:"<",label:"<"},{name:">",value:">",label:">"},{name:"<=",value:"<=",label:"<="},{name:">=",value:">=",label:">="},{name:"contains",value:"contains",label:"contains"},{name:"beginsWith",value:"beginsWith",label:"begins with"},{name:"endsWith",value:"endsWith",label:"ends with"},{name:"doesNotContain",value:"doesNotContain",label:"does not contain"},{name:"doesNotBeginWith",value:"doesNotBeginWith",label:"does not begin with"},{name:"doesNotEndWith",value:"doesNotEndWith",label:"does not end with"},{name:"null",value:"null",label:"is null"},{name:"notNull",value:"notNull",label:"is not null"},{name:"in",value:"in",label:"in"},{name:"notIn",value:"notIn",label:"not in"},{name:"between",value:"between",label:"between"},{name:"notBetween",value:"notBetween",label:"not between"}],Cn={name:"and",label:"AND",value:"and"},Sn={name:"or",label:"OR",value:"or"},An=[Cn,Sn],_n=(e,t)=>{const[r,n]=Bt(t);return[r,o=>{n(fn(a=>{e(a,o)}))}]},U=[];for(let e=0;e<256;++e)U.push((e+256).toString(16).slice(1));function Tn(e,t=0){return(U[e[t+0]]+U[e[t+1]]+U[e[t+2]]+U[e[t+3]]+"-"+U[e[t+4]]+U[e[t+5]]+"-"+U[e[t+6]]+U[e[t+7]]+"-"+U[e[t+8]]+U[e[t+9]]+"-"+U[e[t+10]]+U[e[t+11]]+U[e[t+12]]+U[e[t+13]]+U[e[t+14]]+U[e[t+15]]).toLowerCase()}let ze;const Pn=new Uint8Array(16);function On(){if(!ze){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");ze=crypto.getRandomValues.bind(crypto)}return ze(Pn)}const En=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),vt={randomUUID:En};function Y(e,t,r){if(vt.randomUUID&&!t&&!e)return vt.randomUUID();e=e||{};const n=e.random||(e.rng||On)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Tn(n)}const In=(e,t,r)=>{const n={...e};return t.top+e.y<=r.top?n.y=r.top-t.top:t.bottom+e.y>=r.top+r.height&&(n.y=r.top+r.height-t.bottom),t.left+e.x<=r.left&&(n.x=r.left-t.left),n},Gt=e=>{let t={...e,id:Y()};return t.rules.length>0&&(t={...t,rules:t.rules.map(r=>"rules"in r?Gt(r):{...r,id:Y()})}),t},Vt=e=>({id:Y(),combinator:"AND",locked:!1,not:!1,rules:[...e?[Qt()]:[]]}),Qt=()=>({id:Y(),field:null,operator:null,fieldValue:null,locked:!1,not:!1}),Nn=(e,t)=>pe(e,t),qn=(e,t)=>e.length===t.length&&e.every((r,n)=>r===t[n]),Q=(e,t)=>{let r=e;for(let n=0;n<t.length;n++){const l=t[n],o=r.rules[l];if(o&&"rules"in o)r=o;else{r=void 0;break}}return r},$e=(e,t)=>{let r=e,n;for(let l=0;l<t.length;l++){const o=t[l],a=r.rules[o];if(a&&"rules"in a)r=a;else if(a&&!("rules"in a)){n=a;break}else{n=void 0;break}}return n},Ln=(e,t)=>{switch(t.type){case"add-rule":{const r=t.payload.path,n=Q(e,r);return n&&n.rules.push(Qt()),e}case"add-rule-group":{const r=t.payload.path,n=t.payload.addSingleRuleToGroup,l=Q(e,r);return l&&l.rules.push(Vt(n)),e}case"clone-rule-group":{const r=t.payload.path,n=t.payload.path.slice(-1)[0],l=r.slice(0,-1),o=Q(e,r),a=Q(e,l);return a&&n&&o&&n>=0&&n<a.rules.length&&a.rules.splice(n+1,0,Gt(o)),e}case"delete-rule-group":{const r=t.payload.path,n=r.slice(-1)[0]??-1,l=r.slice(0,-1),o=Q(e,l);return o&&n>=0&&n<o.rules.length&&o.rules.splice(n,1),e}case"ungroup-rule-group":{const r=t.payload.path,n=r.slice(-1)[0]??-1,l=r.slice(0,-1),o=Q(e,r),a=Q(e,l);return a&&o&&n>=0&&n<a.rules.length&&a.rules.splice(n,1,...o.rules),e}case"lock-rule-group":{const r=t.payload.path,n=Q(e,r);return n&&(n.locked=!n.locked),e}case"lock-rule":{const r=t.payload.path,n=$e(e,r);return n&&(n.locked=!n.locked),e}case"delete-rule":{const r=t.payload.path,n=r.slice(-1)[0]??-1,l=r.slice(0,-1),o=Q(e,l);return o&&n>=0&&n<o.rules.length&&o.rules.splice(n,1),e}case"negate-rule-group":{const r=t.payload.path,n=Q(e,r);return n&&(n.not=!n.not),e}case"negate-rule":{const r=t.payload.path,n=$e(e,r);return n&&(n.not=!n.not),e}case"toggle-combinator":{const r=t.payload.path,n=Q(e,r);return n&&(n.combinator=t.payload.value),e}case"set-field":{const r=t.payload.path,n=$e(e,r);return n&&(n.field=t.payload.field!==null?t.payload.field.name:null),e}case"set-operator":{const r=t.payload.path,n=$e(e,r);return n&&(n.operator=t.payload.operator!==null?t.payload.operator.label:null),e}case"set-field-value":{const r=t.payload.path,n=$e(e,r);return n&&(n.fieldValue=t.payload.fieldValue),e}case"shift-up":{const r=t.payload.path,n=r.slice(-1)[0]??-1,l=r.slice(0,-1),o=Q(e,l);if(o&&n>=0&&n<o.rules.length){const a=o.rules[n],i=o.rules[n-1];if(a&&i&&"rules"in i)return i.locked||(i.rules.push(a),o.rules.splice(n,1)),e;if(a&&i)o.rules[n]=o.rules[n-1],o.rules[n-1]=a;else if(a&&!i){const s=l.slice(0,-1),d=Q(e,s),u=l.slice(-1)[0]??-1;d&&u>=0&&(d.rules.splice(u,0,a),o.rules.splice(n,1))}}return e}case"shift-down":{const r=t.payload.path,n=r.slice(-1)[0]??-1,l=r.slice(0,-1),o=Q(e,l);if(o&&n>=0&&n<o.rules.length){const a=o.rules[n],i=o.rules[n+1];if(a&&i&&"rules"in i)i.locked||(i.rules.unshift(a),o.rules.splice(n,1));else if(a&&i)o.rules[n]=o.rules[n+1],o.rules[n+1]=a;else if(a&&!i){const s=l.slice(0,-1),d=Q(e,s),u=l.slice(-1)[0]??-1;d&&u>=0&&(d.rules.splice(u+1,0,a),o.rules.splice(n,1))}}return e}case"move-rule":{const r=t.payload.sourcePath,n=t.payload.destinationPath,l=t.payload.dropPosition,o=r.slice(-1)[0]??-1,a=n.slice(-1)[0]??-1,i=r.slice(0,-1),s=n.slice(0,-1),d=Q(e,i),u=Q(e,s);if(d&&u&&o>=0&&o<d.rules.length){const f=d.rules[o];a>=0&&a<u.rules.length?l==="top"?(u.rules.splice(a,0,f),d.rules.splice(o,1)):(u.rules.splice(a+1,0,f),d.rules.splice(o,1)):(u.rules.push(f),d.rules.splice(o,1))}return e}default:return e}},Ut=lt(),Bn=(e,t)=>e||Vt(!!t),Rn=e=>{const t=Nn({showNotToggle:"both",initialQuery:Bn(e.initialQuery,e.addSingleRuleToGroup),disabled:!1,combinators:An,operators:null,getOperators:()=>null,controlElements:{customOperators:()=>null,customValueEditor:()=>null},showShiftActions:!1,allowDragAndDrop:!1,addSingleRuleToGroup:!1,showBranches:!1},e),[r,n]=_n(Ln,t.initialQuery),l=()=>({showNotToggle:t.showNotToggle,disabled:t.disabled,combinators:t.combinators,fields:e.fields,operators:t.operators,getOperators:t.getOperators,controlElements:t.controlElements,showShiftActions:t.showShiftActions,allowDragAndDrop:t.allowDragAndDrop,addSingleRuleToGroup:t.addSingleRuleToGroup,showBranches:t.showBranches});return x(Ut.Provider,{value:{store:r,dispatch:n,config:l},get children(){return e.children}})},Te=()=>{const e=ot(Ut);if(!e)throw new Error("useQueryBuilderContext must be used within QueryBuilderContext");return e},Ft=lt(),jn=e=>{const[t,r]=G(null),[n,l]=G({}),o=()=>({dropPosition:t(),ruleIdToPathMapping:n()});return x(Ft.Provider,{value:{dndConfig:o,setDropPosition:r,setRuleIdToPathMapping:l},get children(){return e.children}})},st=()=>{const e=ot(Ft);if(!e)throw new Error("useQueryBuilderDNDContext must be used within a QueryBuilderDNDContextProvider");return e},Mn=e=>{const[{active:t},{onDragStart:r,onDragMove:n,onDragEnd:l,addTransformer:o,removeTransformer:a}]=de(),{dndConfig:i,setDropPosition:s}=st(),d={id:"restrict-to-query-builder-container",order:100,callback:u=>{if(t.draggable&&t.overlay){const{top:f,height:g,bottom:b,left:A,right:v,width:p}=e.queryBuilderRef.getBoundingClientRect();return{...In(u,{top:t.overlay.layout.top,bottom:t.overlay.layout.bottom,left:t.overlay.layout.left,right:t.overlay.layout.right,width:t.overlay.layout.width,height:t.overlay.layout.height},{left:A,bottom:b,right:v,width:p,top:f-10,height:g+40})}}return u}};return r(({draggable:u})=>{o("draggables",u.id,d)}),n(()=>{if(t.draggable&&t.droppable&&t.overlay){if(t.draggable.id===t.droppable.id)return;const u=JSON.parse(i().ruleIdToPathMapping[t.draggable.id]),f=JSON.parse(i().ruleIdToPathMapping[t.droppable.id]),g=u.slice(-1)[0]??-1,b=f.slice(-1)[0]??-1;if(g<0||b<0)return;if(t.overlay.transformed.center.y<t.droppable.transformed.center.y){if(g>=0&&b>=0&&g===b-1)return;s("top")}else{if(g>=0&&b>=0&&g===b+1)return;s("bottom")}}}),l(({draggable:u})=>{a("draggables",u.id,d.id)}),[]};var wt=T("<input name=input-text>"),xt=T("<span>"),Gn=T("<textarea name=input-textarea>"),Vn=T("<input name=input-checkbox type=checkbox>"),Qn=T("<label><input name=input-radio type=radio>");const Un=e=>!Array.isArray(e)||e.length===0?null:e[0].value??e[0].name,Fn=e=>{const{isDisabled:t,fieldData:r,handleOnChange:n,inputType:l="text",listsAsArrays:o=!1,operator:a,separator:i=",",title:s="",valueEditorType:d="text",values:u=[],value:f,selectorComponent:g,...b}=e;if(a==="null"||a==="notNull")return null;const A=r?.placeholder??"",v=["in","notIn"].includes(a)?"text":l||"text";if((a==="between"||a==="notBetween")&&(d==="select"||d==="text")){const p=["from","to"].map(()=>d==="text"?(()=>{var w=wt();return w.addEventListener("change",O=>O.target.value),P(w,"type",v),P(w,"placeholder",A),w.value=f,k(()=>w.disabled=t()),w})():x(g,pe(b,{handleOnChange:w=>w.target.value,get disabled(){return t()},get value(){return f??Un(u)},options:u,listsAsArrays:o})));return(()=>{var w=xt();return P(w,"title",s),$(w,()=>p[0],null),$(w,i,null),$(w,()=>p[1],null),w})()}switch(d){case"select":case"multiselect":return x(g,pe(b,{title:s,handleOnChange:n,get disabled(){return t()},value:f,options:u,multiple:d==="multiselect",listsAsArrays:o}));case"textarea":return(()=>{var p=Gn();return p.addEventListener("change",w=>n(w.target.value)),P(p,"placeholder",A),p.value=f,P(p,"title",s),k(()=>p.disabled=t()),p})();case"switch":case"checkbox":return(()=>{var p=Vn();return p.addEventListener("change",w=>n(w.target.checked)),P(p,"title",s),p.checked=!!f,k(()=>p.disabled=t()),p})();case"radio":return(()=>{var p=xt();return P(p,"title",s),$(p,()=>u.map(w=>(()=>{var O=Qn(),h=O.firstChild;return h.addEventListener("change",m=>n(m.target.value)),$(O,()=>w.label,null),k(()=>h.disabled=t()),k(()=>h.value=w.name),k(()=>h.checked=f===w.name),O})())),p})()}return(()=>{var p=wt();return p.addEventListener("change",w=>n(w.target.value)),P(p,"type",v),P(p,"placeholder",A),p.value=f,P(p,"title",s),k(()=>p.disabled=t()),p})()};var Jn=T("<option>----"),Wn=T("<select name=input-select>"),Hn=T("<option>");const Kn=e=>(()=>{var t=Wn();return Et(t,"change",e.handleOnChange),$(t,x(W,{get when(){return!e.value},get children(){return Jn()}}),null),$(t,x(Se,{get each(){return e.options},children:r=>(()=>{var n=Hn();return $(n,()=>r.label),k(()=>n.value=r.value),n})()}),null),k(r=>{var n=e.title,l=e.disabled;return n!==r.e&&P(t,"title",r.e=n),l!==r.t&&(t.disabled=r.t=l),r},{e:void 0,t:void 0}),k(()=>t.value=e.value),t})();var Xn=T('<div data-testid=shift-actions class=shift-actions><button data-testid=shift-up aria-label="shift-up button"aria-description="This button will shift the current rule up">&#8743;</button><button data-testid=shift-down aria-label="shift-down button"aria-description="This button will shift the current rule down">&#8744;');const Jt=e=>{const{dispatch:t,config:r}=Te();return(()=>{var n=Xn(),l=n.firstChild,o=l.nextSibling;return l.$$click=()=>t({type:"shift-up",payload:{path:e.path}}),o.$$click=()=>t({type:"shift-down",payload:{path:e.path}}),k(a=>{var i=r().disabled||e.shiftUpDisabled,s=r().disabled||e.shiftDownDisabled;return i!==a.e&&(l.disabled=a.e=i),s!==a.t&&(o.disabled=a.t=s),a},{e:void 0,t:void 0}),n})()};we(["click"]);var Yn=T('<span data-testid=drag-handle title="Drag Handle">&#8942;&#8942;');const zn=e=>(()=>{var t=Yn();return en(t,pe({get class(){return["dragHandle","handle"].join(" ")}},()=>e.dragActivators,{"tab-index":"-1","aria-hidden":"true"}),!1),t})();var kt=T("<option>----"),Zn=T("<select name=operators>"),el=T("<label class=not-rule-toggle-label><input class=not-rule-toggle type=checkbox name=not-rule-group>Not"),tl=T('<div tabindex=0 data-testid=rule role=none aria-label="Rule Container"><select name=fields></select><button data-testid=lock-rule-button class=lock-button>Lock</button><button data-testid=delete-rule-button class=delete-button>Delete'),$t=T("<option>");const rl=(e,t)=>r=>{e(r),t(r)},nt=(e,t)=>t.find(r=>r.name===e),nl=(e,t,r)=>{const n=nt(e,r)?.operators;return n||(t&&t.length>0?t:Dn)},ll=e=>{const{dispatch:t,config:r}=Te(),n=()=>r().disabled||e.parentLocked||e.rule.locked,[l,o]=G(null),a=xn(e.rule.id,{rule:e.rule,path:e.path}),i=kn(e.rule.id,{rule:e.rule,path:e.path}),s=rl(a.ref,i.ref),[{active:d}]=de(),{dndConfig:u,setRuleIdToPathMapping:f}=st();_e(()=>{f(v=>({...v,[e.rule.id]:JSON.stringify(e.path)}))}),z(()=>{f(v=>({...v,[e.rule.id]:JSON.stringify(e.path)}))}),z(()=>{e.rule.field&&o(nl(e.rule.field,r().operators,r().fields)),nt(e.rule.field,r().fields)===void 0&&(t({type:"set-field",payload:{path:e.path,field:null}}),t({type:"set-operator",payload:{path:e.path,operator:null}}),t({type:"set-field-value",payload:{path:e.path,fieldValue:null}}))}),ie(()=>{f(v=>{const p={...v};return delete p[e.rule.id],p})});const g=()=>d.draggable?.id!==d.droppable?.id&&d.droppable?.id===e.rule.id,b=()=>nt(e.rule.field,r().fields),A=()=>({fieldData:b(),operator:e.rule.operator,value:e.rule.fieldValue,handleOnChange:v=>{t({type:"set-field-value",payload:{path:e.path,fieldValue:v}})}});return(()=>{var v=tl(),p=v.firstChild,w=p.nextSibling,O=w.nextSibling;return Ue(s,v),$(v,x(W,{get when(){return r().showShiftActions},fallback:null,get children(){return x(Jt,{get path(){return e.path},get shiftUpDisabled(){return e.parentLocked||e.rule.locked||e.shiftUpDisabled},get shiftDownDisabled(){return e.parentLocked||e.rule.locked||e.shiftDownDisabled}})}}),p),$(v,x(W,{get when(){return r().allowDragAndDrop},fallback:null,get children(){return x(zn,{get dragActivators(){return a.dragActivators}})}}),p),p.addEventListener("change",h=>{const m=r().fields.find(D=>D.name===h.target.value);m&&t({type:"set-field",payload:{path:e.path,field:m}})}),$(p,x(W,{get when(){return e.rule.field===null},get children(){return kt()}}),null),$(p,x(Se,{get each(){return r().fields},children:h=>(()=>{var m=$t();return $(m,()=>h.name),m})()}),null),$(v,x(W,{get when(){return e.rule.field!==null},get children(){return x(W,{get when(){return r().controlElements.customOperators?.(b())===null},get fallback(){return r().controlElements.customOperators?.(b())},get children(){var h=Zn();return h.addEventListener("change",m=>{if(l()){const D=l()?.find(R=>R.value===m.target.value);D&&t({type:"set-operator",payload:{path:e.path,operator:D}})}}),$(h,x(W,{get when(){return e.rule.operator===null},get children(){return kt()}}),null),$(h,x(Se,{get each(){return l()},children:m=>(()=>{var D=$t();return $(D,()=>m.value),D})()}),null),k(m=>{var D=`operators-${e.rule.id}`,R=n();return D!==m.e&&P(h,"id",m.e=D),R!==m.t&&(h.disabled=m.t=R),m},{e:void 0,t:void 0}),h}})}}),w),$(v,x(W,{get when(){return e.rule.field!==null&&e.rule.operator!==null},get children(){return x(W,{get when(){return r().controlElements.customValueEditor?.(A())===null},get fallback(){return r().controlElements.customValueEditor?.(A())},get children(){return x(Fn,{isDisabled:()=>n(),get fieldData(){return b()},get inputType(){return b()?.inputType},get listsAsArrays(){return b()?.listAsArrays},get operator(){return e.rule.operator??""},get separator(){return b()?.separator},get title(){return b()?.title},get valueEditorType(){return b()?.valueEditorType},get values(){return b()?.values??[]},get value(){return e.rule.fieldValue},selectorComponent:Kn,handleOnChange:h=>{t({type:"set-field-value",payload:{path:e.path,fieldValue:h}})}})}})}}),w),$(v,x(W,{get when(){return r().showNotToggle==="both"||r().showNotToggle==="rule"},get children(){var h=el(),m=h.firstChild;return m.addEventListener("change",()=>t({type:"negate-rule",payload:{path:e.path}})),k(()=>m.disabled=n()),k(()=>m.checked=e.rule.not),h}}),w),w.$$click=()=>t({type:"lock-rule",payload:{path:e.path}}),O.$$click=()=>t({type:"delete-rule",payload:{path:e.path}}),k(h=>{var m=Je(a.transform),D=["rule","draggable-container",e.rule.locked?"rule-disabled":"",u().dropPosition==="top"&&g()?"rule-drop-top":"",u().dropPosition==="bottom"&&g()?"rule-drop-bottom":""].filter(Boolean).join(" "),R=e.path.length,H=JSON.stringify(e.path),I=e.rule.id,N=n(),q=n(),F=`This is a rule container with path ${JSON.stringify(e.path)}`,ce=`fields-${e.rule.id}`,se=n(),c=r().disabled||e.parentLocked,y=n();return h.e=it(v,m,h.e),D!==h.t&&ue(v,h.t=D),R!==h.a&&P(v,"data-level",h.a=R),H!==h.o&&P(v,"data-path",h.o=H),I!==h.i&&P(v,"data-rule-id",h.i=I),N!==h.n&&P(v,"aria-disabled",h.n=N),q!==h.s&&P(v,"data-disabled",h.s=q),F!==h.h&&P(v,"aria-description",h.h=F),ce!==h.r&&P(p,"id",h.r=ce),se!==h.d&&(p.disabled=h.d=se),c!==h.l&&(w.disabled=h.l=c),y!==h.u&&(O.disabled=h.u=y),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0,l:void 0,u:void 0}),k(()=>p.value=e.rule.field??""),v})()};we(["click"]);var ol=T("<div>");const al=e=>(()=>{var t=ol();return $(t,x(Se,{get each(){return e.query.rules},children:(r,n)=>{const l=()=>[...e.path,n()],o=()=>qn([0],l()),a=()=>e.path.length===0&&n()===e.query.rules.length-1;return x(W,{get when(){return"rules"in r},get fallback(){return x(ll,{rule:r,get path(){return l()},get parentLocked(){return e.parentLocked||!!e.query.locked},get shiftUpDisabled(){return o()},get shiftDownDisabled(){return a()}})},get children(){return x(Wt,{get path(){return l()},query:r,get parentLocked(){return e.parentLocked||!!e.query.locked},get shiftUpDisabled(){return o()},get shiftDownDisabled(){return a()}})}})}})),k(()=>ue(t,["rule-group__body",e.query.locked?"rule-group__body-disabled":""].filter(Boolean).join(" "))),t})();var il=T("<label><input type=checkbox name=not-rule-group class=not-rule-group>Not"),sl=T("<button class=ungroup-rule-group>Ungroup"),ul=T("<button class=clone-rule-group>Clone Group"),dl=T("<button class=delete-rule-group>Delete Group"),cl=T('<div><select name=combinator class=combinator aria-label="Select combinator..."></select><button class=add-rule>Add Rule</button><button class=add-rule-group>Add Group</button><button class=lock-rule-group>Lock'),fl=T("<option>");const hl=e=>{const{dispatch:t,config:r}=Te();return(()=>{var n=cl(),l=n.firstChild,o=l.nextSibling,a=o.nextSibling,i=a.nextSibling;return $(n,(()=>{var s=X(()=>!!(r().showShiftActions&&e.path.length>0));return()=>s()?x(Jt,{get path(){return e.path},get shiftUpDisabled(){return e.parentLocked||e.query.locked||e.shiftUpDisabled},get shiftDownDisabled(){return e.parentLocked||e.query.locked||e.shiftDownDisabled}}):null})(),l),l.addEventListener("change",s=>t({type:"toggle-combinator",payload:{path:e.path,value:s.currentTarget.value}})),$(l,x(Se,{get each(){return r().combinators},children:s=>(()=>{var d=fl();return $(d,()=>s.label),k(()=>d.selected=s.value===e.query.combinator),d})()})),$(n,x(W,{get when(){return r().showNotToggle==="both"||r().showNotToggle==="rule_group"},get children(){var s=il(),d=s.firstChild;return d.addEventListener("change",()=>t({type:"negate-rule-group",payload:{path:e.path}})),k(()=>d.disabled=r().disabled||e.parentLocked||e.query.locked),k(()=>d.checked=e.query.not),s}}),o),o.$$click=()=>t({type:"add-rule",payload:{path:e.path}}),a.$$click=()=>t({type:"add-rule-group",payload:{path:e.path,addSingleRuleToGroup:r().addSingleRuleToGroup}}),$(n,x(W,{get when(){return e.path.length>0},get children(){return[(()=>{var s=sl();return s.$$click=()=>t({type:"ungroup-rule-group",payload:{path:e.path}}),k(()=>s.disabled=r().disabled||e.parentLocked||e.query.locked),s})(),(()=>{var s=ul();return s.$$click=()=>t({type:"clone-rule-group",payload:{path:e.path}}),k(()=>s.disabled=r().disabled||e.parentLocked||e.query.locked),s})(),(()=>{var s=dl();return s.$$click=()=>t({type:"delete-rule-group",payload:{path:e.path}}),k(()=>s.disabled=r().disabled||e.parentLocked||e.query.locked),s})()]}}),i),i.$$click=()=>t({type:"lock-rule-group",payload:{path:e.path}}),k(s=>{var d=["rule-group__header",e.query.locked?"rule-group__header-disabled":""].join(" "),u=r().disabled||e.parentLocked||e.query.locked,f=r().disabled||e.parentLocked||e.query.locked,g=r().disabled||e.parentLocked||e.query.locked,b=r().disabled||e.parentLocked;return d!==s.e&&ue(n,s.e=d),u!==s.t&&(l.disabled=s.t=u),f!==s.a&&(o.disabled=s.a=f),g!==s.o&&(a.disabled=s.o=g),b!==s.i&&(i.disabled=s.i=b),s},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),n})()};we(["click"]);var gl=T('<div tabindex=0 data-testid=rule-group role=none aria-label="Rule group container">');const Wt=e=>{const{config:t}=Te();return(()=>{var r=gl();return $(r,x(hl,{get parentLocked(){return e.parentLocked},get path(){return e.path},get query(){return e.query},get shiftUpDisabled(){return e.shiftUpDisabled},get shiftDownDisabled(){return e.shiftDownDisabled}}),null),$(r,x(al,{get path(){return e.path},get query(){return e.query},get parentLocked(){return e.parentLocked||!!e.query.locked}}),null),k(n=>{var l=e.path.length>0?`Rule group at path ${e.path}`:"Query Builder",o=["rule-group",e.query.locked?"rule-group-disabled":""].filter(Boolean).join(" "),a=e.query.id,i=e.path.length,s=JSON.stringify(e.path),d=t().disabled||e.query.locked,u=e.query.locked,f=`This is a rule group container with path ${JSON.stringify(e.path)}`;return l!==n.e&&P(r,"title",n.e=l),o!==n.t&&ue(r,n.t=o),a!==n.a&&P(r,"data-rule-group-id",n.a=a),i!==n.o&&P(r,"data-level",n.o=i),s!==n.i&&P(r,"data-path",n.i=s),d!==n.n&&P(r,"aria-disabled",n.n=d),u!==n.s&&P(r,"data-locked",n.s=u),f!==n.h&&P(r,"aria-description",n.h=f),n},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),r})()};var pl=T("<div class=drag-overlay>"),bl=T("<div>");const yl=()=>{const[{active:e}]=de();return x($n,{get children(){var t=pl();return $(t,()=>e.draggable?.data.rule?.field),t}})},ml=()=>{const{store:e,dispatch:t,config:r}=Te(),{dndConfig:n,setDropPosition:l}=st();let o;const a=i=>{const s=n().dropPosition;if(l(null),i.droppable){if(i.draggable.id===i.droppable.id)return;const d=JSON.parse(n().ruleIdToPathMapping[i.draggable.id]),u=JSON.parse(n().ruleIdToPathMapping[i.droppable.id]);t({type:"move-rule",payload:{sourcePath:d,destinationPath:u,dropPosition:s}})}};return(()=>{var i=bl(),s=o;return typeof s=="function"?Ue(s,i):o=i,$(i,x(mn,{collisionDetector:bn,onDragEnd:a,get children(){return[x(wn,{}),x(Mn,{queryBuilderRef:o}),x(Wt,{path:[],query:e,parentLocked:!1,shiftUpDisabled:!0,shiftDownDisabled:!0}),x(yl,{})]}})),k(()=>ue(i,["query-builder",r().showBranches?"query-builder-branches":""].filter(Boolean).join(" "))),i})()},vl=e=>x(Rn,pe(e,{get children(){return x(jn,{get children(){return x(ml,{})}})}}));var wl=T("<div><button class=theme-btn>"),xl=T('<svg viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg width=24 height=24><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier> <path d="M12 3V4M12 20V21M4 12H3M6.31412 6.31412L5.5 5.5M17.6859 6.31412L18.5 5.5M6.31412 17.69L5.5 18.5001M17.6859 17.69L18.5 18.5001M21 12H20M16 12C16 14.2091 14.2091 16 12 16C9.79086 16 8 14.2091 8 12C8 9.79086 9.79086 8 12 8C14.2091 8 16 9.79086 16 12Z"stroke=#fff stroke-width=2 stroke-linecap=round stroke-linejoin=round></path> '),kl=T('<svg viewBox="0 0 24 24"fill=none xmlns=http://www.w3.org/2000/svg width=24 height=24><g id=SVGRepo_bgCarrier stroke-width=0></g><g id=SVGRepo_tracerCarrier stroke-linecap=round stroke-linejoin=round></g><g id=SVGRepo_iconCarrier> <path d="M3.32031 11.6835C3.32031 16.6541 7.34975 20.6835 12.3203 20.6835C16.1075 20.6835 19.3483 18.3443 20.6768 15.032C19.6402 15.4486 18.5059 15.6834 17.3203 15.6834C12.3497 15.6834 8.32031 11.654 8.32031 6.68342C8.32031 5.50338 8.55165 4.36259 8.96453 3.32996C5.65605 4.66028 3.32031 7.89912 3.32031 11.6835Z"stroke=#000000 stroke-width=2 stroke-linecap=round stroke-linejoin=round></path> ');const $l=()=>{const e=localStorage.getItem("theme");return e||(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},Dl=()=>{const[e,t]=G($l()),r=()=>{const n=e()==="light"?"dark":"light";t(n),document.documentElement.setAttribute("data-theme",n),localStorage.setItem("theme",n)};return _e(()=>{document.documentElement.setAttribute("data-theme",e())}),(()=>{var n=wl(),l=n.firstChild;return l.$$click=r,$(l,(()=>{var o=X(()=>e()!=="light");return()=>o()?xl():kl()})()),k(()=>P(l,"aria-label",`Switch to ${e()==="light"?"dark":"light"} mode`)),n})()};we(["click"]);const Dt={id:Y(),combinator:"OR",rules:[{id:Y(),field:"First Name",fieldValue:"ABC-1",operator:"="},{id:Y(),field:"Last Name",fieldValue:"ABC-2",operator:"="},{id:Y(),combinator:"OR",rules:[{id:Y(),field:"Age",fieldValue:"ABC-3",operator:"="},{id:Y(),field:"Email",fieldValue:"john@doe.com",operator:"="}]},{id:Y(),field:"Subscription",fieldValue:"ABC-4",operator:"="}]},Cl=[{name:"First Name",label:"First Name",placeholder:"Enter first name",id:"1",operators:[{name:"equals",value:"equals",label:"Equals"},{name:"between",value:"between",label:"Between"}],valueEditorType:"text",inputType:"text",values:[{value:"John",label:"John"}],defaultOperator:"equals",defaultValue:"John",comparator:"string"},{name:"Last Name",label:"Last Name",placeholder:"Enter last name",id:"2",valueEditorType:"text",inputType:"text",values:[{value:"Doe",label:"Doe"}],defaultOperator:"equals",defaultValue:"Doe",comparator:"string"},{name:"Age",label:"Age",placeholder:"Enter age",id:"3",operators:[{name:"greater_than",value:"greater_than",label:"Greater Than"}],valueEditorType:"text",inputType:"number",values:[{value:"30",label:"30"}],defaultOperator:"greater_than",defaultValue:30,comparator:"number"},{name:"Email",label:"Email",placeholder:"Enter email address",id:"4",operators:[{name:"contains",value:"contains",label:"Contains"}],valueEditorType:"text",inputType:"email",values:[{value:"example@example.com",label:"example@example.com"}],defaultOperator:"contains",defaultValue:"example@example.com",comparator:"string"},{name:"Subscription",label:"Subscribed to Newsletter",id:"5",operators:[{name:"equals",value:"equals",label:"Equals"}],valueEditorType:"checkbox",inputType:"checkbox",values:[{value:"true",label:"Yes"}],defaultOperator:"equals",defaultValue:!0,comparator:"boolean"}],Sl=[{name:"=",value:"=",label:"="},{name:"!=",value:"!=",label:"!="},{name:"<",value:"<",label:"<"},{name:">",value:">",label:">"},{name:"<=",value:"<=",label:"<="},{name:">=",value:">=",label:">="},{name:"contains",value:"contains",label:"contains"},{name:"beginsWith",value:"beginsWith",label:"begins with"}];var Al=T("<div>Version: "),_l=T(`<div class="app container-fluid"><header class=header><h1>SolidJS Query Builder</h1><div class=right-header><div></div><a href=https://github.com/Query-Builder/solid-query-builder target=_blank rel="noopener noreferrer"><img src=./github-mark.png alt="github repo for solid query builder"class=github-logo></a></div></header><main class=main><section class=intro><h3>Query Builder is an UI component to create complex queries and filters</h3><h4>Supported features out of the box:</h4><ul class=list><li><strong>Customizable:</strong> Query Builder with default options that can be customized.</li><li><strong>Nested Groups and Rules:</strong> Supports creating nested groups and rules.</li><li><strong>Operations:</strong> Add, clone, delete, shift, and more operations on rules and groups.</li><li><strong>Styling:</strong> Tweak default styles or provide custom styles for the Query Builder.</li><li><strong>JSON Output:</strong> Outputs structured JSON of rules and groups for creating complex queries.</li><li><strong>Accessibility:</strong> Keyboard navigation and screen reader support.</li><li><strong>Drag and Drop:</strong> Reorder groups and rules with drag and drop support.</li><li><strong>Custom Operators and Editors:</strong> Supports custom operators and value editors.</li></ul></section><h3>Demo</h3><section class=demo><section class=override><details><summary>Override Props</summary><div class=options><label class=label><input name=disable-qb type=checkbox>Disable Query Builder</label><label class=label><input name=toggle-branches type=checkbox>Show Branches</label><label class=label><input name=toggle-shift-actions type=checkbox>Show Shift Actions</label><label class=label><input name=toggle-drag-drop type=checkbox>Allow Drag and Drop</label><label class=label><input name=toggle-single-rule type=checkbox>Add Single Rule to Group</label><select name=show-not-toggle><option value=both>Show Not Toggle - Both</option><option value=rule>Show Not Toggle - Rule</option><option value=rule_group>Show Not Toggle - Group</option><option value=none>Show Not Toggle - None</option></select></div></details><hr></section><section class=right__section></section></section><hr><section class=installation-section><section><h3>Installation:</h3><div class=installation><pre class=pre><code>npm install @query-builder/solid-query-builder</code><button class=copy-button><img src=./copy-icon-black.png alt="copy icon"class=copy-icon></button></pre><div class=or-container><span>or</span></div><pre class=pre><code>yarn add @query-builder/solid-query-builder</code><button class=copy-button><img src=./copy-icon-black.png alt="copy icon"class=copy-icon></button></pre><div class=or-container><span>or</span></div><pre class=pre><code>pnpm add @query-builder/solid-query-builder</code><button class=copy-button><img src=./copy-icon-black.png alt="copy icon"class=copy-icon></button></pre></div></section><hr><section><h5>Import:</h5><div class=import><pre class=pre><code>import &#123; QueryBuilder &#125; from '@query-builder/solid-query-builder';</code><button class=copy-button><img src=./copy-icon-black.png alt="copy icon"class=copy-icon></button></pre></div></section><hr><section><details><summary>Optional Import: (default styling)</summary><div class=import><pre class=pre><code>import '@query-builder/solid-query-builder/dist/index.css';</code><button class=copy-button><img src=./copy-icon-black.png alt="copy icon"class=copy-icon></button></pre></div></details></section><hr><section><details><summary><h5>Usage: App.tsx</h5></summary><pre class=pre><code>&lt;QueryBuilder
  initialQuery={QUERY_DATA}
  fields={FIELDSDATA}
  operators={OPERATORS_DATA}
  showShiftActions
  allowDragAndDrop
  disabled={false}
  addSingleRuleToGroup={false}
  showNotToggle="both"
/></code></pre></details></section><hr><section id=JSON-Data><details><summary><h5>JSON Data:</h5></summary><pre class=pre><code></code></pre></details></section><hr></section><section class="API reference"><h4>API Reference:</h4><p>The Query Builder component accepts the following props.</p><table class=table><thead><tr><th>Prop</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td>initialQuery</td><td><a href=#Query-section>Query</a></td><td>Initial query object to be displayed in the Query Builder. The query object should follow the <a href=#JSON-Data>Query object structure</a>. This prop is optional unless you want to display some initial query.</td></tr><tr><td>fields</td><td><a href=#Fields-section>Fields</a></td><td>Array of field objects. Each field object should have a name and label property. This prop is required.</td></tr><tr><td>operators</td><td><a href=#Operators-section>Operators</a></td><td>Array of operator objects. Each operator object should have a value and label property. Thi prop is optional.</td></tr><tr><td>showShiftActions</td><td>boolean</td><td>Show shift actions like shift up and shift down. Default is <code>false</code>. This prop is optional.</td></tr><tr><td>allowDragAndDrop</td><td>boolean</td><td>Allow drag and drop to reorder groups and rules. This prop is optional. Default is <code>false</code>.</td></tr><tr><td>disabled</td><td>boolean</td><td>Disable the Query Builder. This prop is optional. Default is <code>false</code>.</td></tr><tr><td>addSingleRuleToGroup</td><td>boolean</td><td>Add a single rule to a new group. This prop is optional. Default is <code>false</code>.</td></tr><tr><td>showNotToggle</td><td>Not_Selection</td><td>Show the not toggle for rules and groups. This prop is optional. Default is <code>both</code>.</td></tr></tbody></table></section><section class="TypeScript Reference"><h4>TypeScript Reference:</h4><p>The Query Builder component is written in TypeScript and exports the following types.</p><h5 id=Query-section>Query:</h5><pre class=pre><code>type Query = {
  id: string;
  type: 'group' | 'rule';
  rules?: Query[];
  field?: string;
  operator?: string;
  value?: any;
  not?: boolean;
};</code></pre><h5 id=Fields-section>Fields:</h5><pre class=pre><code>type Fields = {
  name: string;
  label: string;
  type?: string;
  operators?: OperatorsList;
  valueEditorType?: string;
  inputType?: string;
  values?: Option[];
  defaultOperator?: string;
  defaultValue?: any;
  validator?: RuleValidator;
  separator?: string;
  title?: string;
  listAsArrays?: boolean;
  comparator?: string;
};</code></pre><h5 id=Operators-section>Operators:</h5><pre class=pre><code>type Operators = {
  name: string;
  label: string;
  inputType?: string;
  values?: Option[];
  defaultValue?: any;
  comparator?: string;
};</code></pre><h5 class=Option-section>Option:</h5><pre class=pre><code>type Option = {
  value: string;
  label: string;
};</code></pre><h5 class=ValueEditorType-section>ValueEditorType:</h5><pre class=pre><code>type ValueEditorType = | 'text' | 'switch' | 'checkbox' | 'radio' | 'textarea' | 'select' | 'multiselect' | 'date' | 'datetime-local' | 'time' | null;</code></pre><h5 class=FieldsEditorProps-section>FieldsEditorProps:</h5><pre class=pre><code>type FieldsEditorProps = {
  title?: string;
  isDisabled: () => boolean | undefined;
  handleOnChange: (value: FieldsValue) => void;
  value: any;
  values?: any;
  valueEditorType?: ValueEditorType;
  listsAsArrays?: boolean;
  fieldData: Fields | undefined;
  inputType?: InputType | undefined | null;
  operator: string;
  separator?: string;
  selectorComponent: any;
};</code></pre><h5 id=CustomValueEditorProps-section>CustomValueEditorProps:</h5><pre class=pre><code>type CustomValueEditorProps = {
  fieldData: Fields | undefined;
  operator: string | null;
  value: string | null;
  handleOnChange: (value: FieldsValue) => void;
};</code></pre><h5></h5></section><section class=Styling-section><h4>Styling:</h4><p>The Query Builder component comes with default styles. You can override the default styles by providing custom styles. The Query Builder component uses the following CSS classes.</p><table class=table><thead><tr><th>Class</th><th>Description</th></tr></thead><tbody><tr><td>query-builder</td><td>Root class for the Query Builder component.</td></tr><tr><td>group</td><td>Class for the group container.</td></tr><tr><td>rule</td><td>Class for the rule container.</td></tr><tr><td>group-header</td><td>Class for the group header.</td></tr><tr><td>rule-header</td><td>Class for the rule header.</td></tr><tr><td>group-body</td><td>Class for the group body.</td></tr><tr><td>rule-body</td><td>Class for the rule body.</td></tr><tr><td>group-actions</td><td>Class for the group actions.</td></tr><tr><td>rule-actions</td><td>Class for the rule actions.</td></tr><tr><td>add-rule</td><td>Class for the add rule button.</td></tr><tr><td>add-group</td><td>Class for the add</td></tr><tr><td>delete-group</td><td>Class for the delete group button.</td></tr><tr><td>delete-rule</td><td>Class for the delete rule button.</td></tr><tr><td>clone-group</td><td>Class for the clone group button.</td></tr><tr><td>clone-rule</td><td>Class for the clone rule button.</td></tr><tr><td>shift-up</td><td>Class for the shift up button.</td></tr><tr><td>shift-down</td><td>Class for the shift down button.</td></tr><tr><td>lock-group</td><td>Class for the lock group button.</td></tr><tr><td>lock-rule</td><td>Class for the lock rule button.</td></tr><tr><td>not-rule-toggle</td><td>Class for the not rule toggle checkbox.</td></tr><tr><td>not-rule-group</td><td>Class for the not</td></tr></tbody></table></section><section class=Accessibility-section><h4>Accessibility:</h4><p>The Query Builder component is built with accessibility in mind. The component supports keyboard navigation and screen reader support. The component uses the following ARIA attributes.</p><table class=table><thead><tr><th>Attribute</th><th>Description</th></tr></thead><tbody><tr><td>aria-label</td><td>Label for the button or element.</td></tr><tr><td>aria-description</td><td>Description for the button or element.</td></tr><tr><td>aria-busy</td><td>Indicates that the element is busy.</td></tr><tr><td>aria-disabled</td><td>Indicates that the element is disabled.</td></tr></tbody></table><section class=Control-elements-section><h5>Control Elements:</h5><p>The Query Builder component provides control elements like customOperators and customValueEditor components. These control elements can be customized by providing custom components to the Query Builder component.</p><p>The Query Builder component provides the following control elements that can be customized.</p><ul class=list><li><strong>CustomOperators:</strong> Custom operators component to provide custom operators. This component should return a JSX element. It takes the current<a href=#Fields-section> Field </a> data as an argument.</li><li><strong>CustomValueEditor:</strong> Custom value editor component to provide custom value editors. This component should return a JSX element. It takes<a href=#CustomValueEditorProps-section> CustomValueEditorProps</a> as an argument.</li></ul></section></section><section><section class=DragNDrop-Section><h4>Drag and Drop:</h4><p>The Query Builder component supports drag and drop to reorder groups and rules. The component uses the <a href=https://solid-dnd.com/>solid-dnd</a> library for drag and drop support.</p><p>The Query Builder component provides the following drag and drop classes that can be used to customize the drag and drop feature.</p><table class=table><thead><tr><th>Class</th><th>Description</th></tr></thead><tbody><tr><td>draggable-container</td><td>Class for the draggable container.</td></tr><tr><td>rule-drop-top</td><td>Class for the rule drop top container.</td></tr><tr><td>rule-drop-bottom</td><td>Class for the rule drop bottom container.</td></tr></tbody></table></section><h5>Todo/Future Updates:</h5><ul class=list><li><label><input name=todo-1 type=checkbox readonly disabled>Improved Drag and Drop support for both rule and groups.</label></li><li><label><input name=todo-2 type=checkbox readonly disabled>Ability to override control elements like Add, Clone, Delete buttons, etc.</label></li><li><label><input name=todo-3 type=checkbox readonly disabled>More parsing options for the JSON output like SQL, MongoDB, etc.</label></li><li><label><input name=todo-4 type=checkbox readonly disabled>Better documentation</label></li><li>and many more.. Create an PR/Issues in our <a href=https://github.com/Query-Builder/solid-query-builder target=_blank rel="noopener noreferrer">Github Repository</a> to provide more usecases, so we can plan those accordingly.</li></ul></section><section class=links><h4>Links:</h4><ul class=list><li><a href=https://github.com/Query-Builder/solid-query-builder target=_blank rel="noopener noreferrer">Github Repo</a></li><li><a href=https://www.npmjs.com/package/@query-builder/solid-query-builder target=_blank rel="noopener noreferrer">NPM Package</a></li></ul></section><section><h5>Inspiration:</h5><p>This project is inspired by the <a href=https://react-querybuilder.js.org/ target=_blank rel="noopener noreferrer">React Query Builder</a> and the <a href=https://querybuilder.js.org/ target=_blank rel="noopener noreferrer">JQuery Query Builder</a> library.</p></section></main><footer class=footer><div class=copyright>Copyright  2024 SolidJS Query Builder authors.</div><div class=authors>Made by <a href=https://github.com/Swappea target=_blank rel="noopener noreferrer">Swapnesh Sangle</a>, and <a href=https://github.com/s-siddiqui target=_blank rel="noopener noreferrer">Salman Siddiqui`),Tl=T("<div aria-busy=true>");const Pl=()=>fetch("https://registry.npmjs.org/@query-builder/solid-query-builder/latest").then(e=>{if(!e.ok)throw new Error("Failed to fetch package data");return e.json()}),Ol=()=>{const[e]=Pr(Pl),[t,r]=G(!1),[n,l]=G(!0),[o,a]=G(!0),[i,s]=G(!0),[d,u]=G(!0),[f,g]=G("both");return(()=>{var b=_l(),A=b.firstChild,v=A.firstChild,p=v.nextSibling,w=p.firstChild,O=w.nextSibling,h=A.nextSibling,m=h.firstChild,D=m.nextSibling,R=D.nextSibling,H=R.firstChild,I=H.firstChild,N=I.firstChild,q=N.nextSibling,F=q.firstChild,ce=F.firstChild,se=F.nextSibling,c=se.firstChild,y=se.nextSibling,C=y.firstChild,V=y.nextSibling,_=V.firstChild,S=V.nextSibling,L=S.firstChild,M=S.nextSibling,K=H.nextSibling,oe=R.nextSibling,Pe=oe.nextSibling,xe=Pe.firstChild,Ht=xe.firstChild,Kt=Ht.nextSibling,ut=Kt.firstChild,Xt=ut.firstChild,Yt=Xt.nextSibling,zt=ut.nextSibling,dt=zt.nextSibling,Zt=dt.firstChild,er=Zt.nextSibling,tr=dt.nextSibling,rr=tr.nextSibling,nr=rr.firstChild,lr=nr.nextSibling,or=xe.nextSibling,ct=or.nextSibling,ar=ct.firstChild,ir=ar.nextSibling,sr=ir.firstChild,ur=sr.firstChild,dr=ur.nextSibling,cr=ct.nextSibling,ft=cr.nextSibling,fr=ft.firstChild,hr=fr.firstChild,gr=hr.nextSibling,pr=gr.firstChild,br=pr.firstChild,yr=br.nextSibling,mr=ft.nextSibling,vr=mr.nextSibling,wr=vr.nextSibling,xr=wr.nextSibling,kr=xr.firstChild,$r=kr.firstChild,Dr=$r.nextSibling,Cr=Dr.firstChild;return $(w,x(W,{get when(){return e()},get fallback(){return Tl()},get children(){var ke=Al();return ke.firstChild,$(ke,()=>e()?.version??"- -",null),ke}})),$(p,x(Dl,{}),O),I.open=!1,ce.addEventListener("change",()=>r(!t())),c.addEventListener("change",()=>l(!n())),C.addEventListener("change",()=>a(!o())),_.addEventListener("change",()=>s(!i())),L.addEventListener("change",()=>u(!d())),M.addEventListener("change",ke=>{g(ke?.target.value)}),$(K,x(vl,{initialQuery:Dt,fields:Cl,operators:Sl,get showShiftActions(){return o()},get allowDragAndDrop(){return i()},get disabled(){return t()},get addSingleRuleToGroup(){return d()},get showNotToggle(){return f()},get showBranches(){return n()}})),Yt.$$click=()=>navigator.clipboard.writeText("npm install @query-builder/solid-query-builder"),er.$$click=()=>navigator.clipboard.writeText("yarn add @query-builder/solid-query-builder"),lr.$$click=()=>navigator.clipboard.writeText("pnpm add @query-builder/solid-query-builder"),dr.$$click=()=>navigator.clipboard.writeText("import { QueryBuilder } from '@query-builder/solid-query-builder"),yr.$$click=()=>navigator.clipboard.writeText("import '@query-builder/solid-query-builder/dist/index.css'"),$(Cr,()=>JSON.stringify(Dt,null,2)),k(()=>ce.checked=t()),k(()=>c.checked=n()),k(()=>C.checked=o()),k(()=>_.checked=i()),k(()=>L.checked=d()),k(()=>M.value=f()),b})()};we(["click"]);zr(()=>x(Ol,{}),document.getElementById("root"));
